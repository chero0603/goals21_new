---
// Difficulties section component
import DifficultyCard from '@/components/DifficultyCard.astro';
import IntersectionObserver from '@/components/IntersectionObserver.astro';
import { Icon } from 'astro-icon/components';
---

<section
  aria-labelledby="difficulties-heading"
  class="relative overflow-hidden bg-[url(../assets/images/difficulty_sm.jpg)] bg-cover bg-right bg-no-repeat p-6 sm:bg-[url(../assets/images/difficulty.jpg)] sm:p-12"
  itemscope
  itemtype="https://schema.org/FAQPage"
>
  <!-- Background pattern -->
  <div class="absolute inset-0 opacity-10">
    <div
      class="absolute top-10 left-10 h-32 w-32 rounded-full bg-red-400 blur-3xl"
    >
    </div>
    <div
      class="absolute right-20 bottom-20 h-40 w-40 rounded-full bg-orange-400 blur-3xl"
    >
    </div>
    <div
      class="absolute top-1/2 left-1/2 h-48 w-48 -translate-x-1/2 -translate-y-1/2 rounded-full bg-yellow-400 blur-3xl"
    >
    </div>
  </div>

  <div class="relative mx-auto max-w-6xl">
    <IntersectionObserver
      class="data-[observer=true]:animate-fade-in-up-800 delay-order-child opacity-0"
    >
      <div class="mb-8 text-center sm:mb-12">
        <h2
          id="difficulties-heading"
          class="mb-4 text-2xl font-bold text-white sm:text-4xl lg:text-5xl"
        >
          こんな状況で
          <span
            class="bg-gradient-to-r from-red-400 to-orange-400 bg-clip-text text-transparent"
          >
            お困り
          </span>
          ではありませんか？
        </h2>
        <p class="text-lg text-gray-300">
          海外口座の問題は、放置すればするほど解決が困難になります
        </p>
      </div>
    </IntersectionObserver>

    <div
      class="animate-order-200 grid items-stretch gap-6 sm:gap-8 md:grid-cols-2 lg:grid-cols-2"
    >
      <IntersectionObserver
        class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
      >
        <DifficultyCard
          iconName="mdi:translate"
          iconColor="red"
          title="英語がわからず手続きが進まない"
        >
          書類が英語で理解できず、どこから手をつければいいか分からない状態が続いている
        </DifficultyCard>
      </IntersectionObserver>

      <IntersectionObserver
        class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
      >
        <DifficultyCard
          iconName="mdi:phone-off"
          iconColor="orange"
          title="銀行に問い合わせても返答がない"
        >
          メールや電話をしても適切な回答を得られず、たらい回しにされてしまう
        </DifficultyCard>
      </IntersectionObserver>

      <IntersectionObserver
        class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
      >
        <DifficultyCard
          iconName="mdi:cash-remove"
          iconColor="yellow"
          title="口座残高の回収方法が不明"
        >
          預金をどうやって日本に送金すればいいのか、具体的な手順が全く分からない
        </DifficultyCard>
      </IntersectionObserver>

      <IntersectionObserver
        class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
      >
        <DifficultyCard
          iconName="mdi:airplane-off"
          iconColor="red"
          title="現地に行かないと解約できないかも…"
        >
          本当に日本から手続きできるのか不安で、現地まで行く必要があるのではと心配している
        </DifficultyCard>
      </IntersectionObserver>

      <IntersectionObserver
        class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
      >
        <DifficultyCard
          iconName="mdi:file-document-multiple"
          iconColor="purple"
          title="相続手続きの複雑さ"
        >
          故人の海外口座をどう処理すればいいか、相続に関する法的手続きが全く分からない
        </DifficultyCard>
      </IntersectionObserver>
    </div>

    <IntersectionObserver
      class="data-[observer=true]:animate-fade-in-up-800 animate-order-child opacity-0"
    >
      <div class="mt-8 text-center sm:mt-12">
        <a
          href="#contact"
          class="group from-primary-500 to-primary-700 inline-flex flex-col items-center gap-2 rounded-full bg-gradient-to-r px-4 py-3 shadow-2xl transition-all duration-300 hover:shadow-lg sm:flex-row sm:gap-4 sm:px-8 sm:py-4"
        >
          <Icon 
            name="mdi:account-group" 
            class="hidden text-white sm:block sm:text-3xl"
          />
          <div class="text-center sm:text-left">
            <h3 class="text-base font-bold text-white sm:text-lg">
              実績多数の専門チームがサポート
            </h3>
            <p class="text-primary-100 text-xs sm:text-sm">
              ひとりで悩まず、まずはお気軽にご相談ください
            </p>
          </div>
          <div
            class="text-primary-600 group-hover:bg-primary-200 flex items-center gap-1 rounded-full bg-white px-3 py-1 text-xs font-bold transition-colors duration-300 sm:ml-4 sm:gap-2 sm:px-4 sm:py-2 sm:text-sm"
          >
            <Icon name="mdi:message-text" />
            <span>無料相談</span>
          </div>
        </a>
      </div>
    </IntersectionObserver>
  </div>
</section>
